{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\n\nconst useToken = user => {\n  _s();\n\n  const [token, setToken] = useState('');\n  useEffect(() => {\n    var _user$user;\n\n    const email = user === null || user === void 0 ? void 0 : (_user$user = user.user) === null || _user$user === void 0 ? void 0 : _user$user.email;\n    const currentUser = {\n      email: email\n    };\n\n    if (email) {\n      const url = `http://localhost:5000/user/${email}`;\n      fetch(url, {\n        method: 'PUT',\n        headers: {\n          'content-type': 'application/json'\n        },\n        body: JSON.stringify(currentUser)\n      }).then(res => res.json()).then(data => {\n        console.log('data inside token', data);\n        const accessToken = data.token;\n        localStorage.setItem('accessToken', accessToken);\n        setToken(accessToken);\n      });\n    }\n  }, [user]);\n  return [token, setToken];\n};\n\n_s(useToken, \"vf+oyXHY90mQMbpq6nUOg8QmBuc=\");\n\nexport default useToken;","map":{"version":3,"names":["useEffect","useState","useToken","user","token","setToken","email","currentUser","url","fetch","method","headers","body","JSON","stringify","then","res","json","data","console","log","accessToken","localStorage","setItem"],"sources":["F:/Car-Manufacture/src/pages/CustomHook/useToken.js"],"sourcesContent":["import { useEffect, useState } from 'react';\n\nconst useToken = user => {\n    const [token, setToken] = useState('');\n    useEffect(() => {\n        const email = user?.user?.email;\n        const currentUser = { email: email };\n        if (email) {\n            const url = `http://localhost:5000/user/${email}`;\n            fetch(url, {\n                method: 'PUT',\n                headers: {\n                    'content-type': 'application/json'\n                },\n                body: JSON.stringify(currentUser)\n            })\n                .then(res => res.json())\n                .then(data => {\n                    console.log('data inside token', data)\n                    const accessToken = data.token;\n                    localStorage.setItem('accessToken', accessToken);\n                    setToken(accessToken);\n                })\n        }\n    }, [user]);\n    return [token, setToken];\n};\n\nexport default useToken;"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;;AAEA,MAAMC,QAAQ,GAAGC,IAAI,IAAI;EAAA;;EACrB,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBJ,QAAQ,CAAC,EAAD,CAAlC;EACAD,SAAS,CAAC,MAAM;IAAA;;IACZ,MAAMM,KAAK,GAAGH,IAAH,aAAGA,IAAH,qCAAGA,IAAI,CAAEA,IAAT,+CAAG,WAAYG,KAA1B;IACA,MAAMC,WAAW,GAAG;MAAED,KAAK,EAAEA;IAAT,CAApB;;IACA,IAAIA,KAAJ,EAAW;MACP,MAAME,GAAG,GAAI,8BAA6BF,KAAM,EAAhD;MACAG,KAAK,CAACD,GAAD,EAAM;QACPE,MAAM,EAAE,KADD;QAEPC,OAAO,EAAE;UACL,gBAAgB;QADX,CAFF;QAKPC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeP,WAAf;MALC,CAAN,CAAL,CAOKQ,IAPL,CAOUC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EAPjB,EAQKF,IARL,CAQUG,IAAI,IAAI;QACVC,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAAiCF,IAAjC;QACA,MAAMG,WAAW,GAAGH,IAAI,CAACd,KAAzB;QACAkB,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCF,WAApC;QACAhB,QAAQ,CAACgB,WAAD,CAAR;MACH,CAbL;IAcH;EACJ,CApBQ,EAoBN,CAAClB,IAAD,CApBM,CAAT;EAqBA,OAAO,CAACC,KAAD,EAAQC,QAAR,CAAP;AACH,CAxBD;;GAAMH,Q;;AA0BN,eAAeA,QAAf"},"metadata":{},"sourceType":"module"}